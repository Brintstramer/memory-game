(()=>{"use strict";function e(t){if(null==t||!1===t)return document.createTextNode("");if("string"==typeof t||"number"==typeof t||!0===t)return document.createTextNode(t);if(Array.isArray(t)){const a=document.createDocumentFragment();return t.forEach((t=>{a.appendChild(e(t))})),a}const a=document.createElement(t.tag);return t.cls&&[].concat(t.cls).forEach((e=>{a.classList.add(e)})),t.attrs&&Object.keys(t.attrs).forEach((e=>{a.setAttribute(e,t.attrs[e])})),a.appendChild(e(t.content)),a}function t(e){return{tag:"div",cls:"cards__card",attrs:{style:`background-image: url(./static/img/${e}.svg)`,"data-card":e}}}e();const a={level:"",screens:{},timer:[],cards:["spadesA","spadesK","spadesQ","spadesJ","spades10","spades9","spades8","spades7","spades6","heartsA","heartsK","heartsQ","heartsJ","hearts10","hearts9","hearts8","hearts7","hearts6","diamondsA","diamondsK","diamondsQ","diamondsJ","diamonds10","diamonds9","diamonds8","diamonds7","diamonds6","clubsA","clubsK","clubsQ","clubsJ","clubs10","clubs9","clubs8","clubs7","clubs6"],"generated-cards":[],"user-cards":[]},s=document.querySelector(".app"),r=s.querySelector(".difficulty-level__btn-start"),d=s.querySelectorAll(".difficulty-level__btns__btn");let c,n,l=!1,i=!1,o=0;function u(r){s.textContent="",s.appendChild(e({tag:"div",cls:"header",content:[{tag:"div",cls:"header__time",content:"00.00"},{tag:"button",cls:"header__restart",content:"Начать заново"}]})),s.appendChild(e({tag:"div",cls:"cards"})),function(e){for(let t=0;t<e;t++){const e=Math.floor(36*Math.random());a["generated-cards"].push(a.cards[e])}}(r),c=s.querySelector(".cards"),c.innerHTML="",a["generated-cards"]=[...a["generated-cards"],...a["generated-cards"]],a["generated-cards"].sort((()=>Math.random()-.5)),c.appendChild(e(a["generated-cards"].map(t))),c.querySelectorAll(".cards__card").forEach((e=>{setTimeout((()=>{e.style.backgroundImage="url('./static/img/card-back.svg')"}),5e3),e.addEventListener("click",(()=>{if(!e.classList.contains("matched"))if(e.style.backgroundImage=`url('./static/img/${e.dataset.card}.svg')`,l){i=e;let t=e.getAttribute("data-card");n===t?(l.classList.add("matched"),i.classList.add("matched"),l=!1,o+=1,o===Math.floor(a["generated-cards"].length/2)&&alert("Вы победили!")):setTimeout((()=>{alert("Вы проиграли!")}),900)}else l=e,n=e.getAttribute("data-card")}))}))}d.forEach((e=>{e.addEventListener("click",(()=>{a.level=e.textContent}))})),r.addEventListener("click",(()=>{switch(a.level){case"1":u(3);break;case"2":u(6);break;case"3":u(9)}}))})();