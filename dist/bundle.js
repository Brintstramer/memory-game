(()=>{var t={885:t=>{t.exports={templateEngine:function t(e){if(null==e||!1===e)return document.createTextNode("");if("string"==typeof e||"number"==typeof e||!0===e)return document.createTextNode(e);if(Array.isArray(e)){const a=document.createDocumentFragment();return e.forEach((e=>{a.appendChild(t(e))})),a}const a=document.createElement(e.tag);return e.cls&&[].concat(e.cls).forEach((t=>{a.classList.add(t)})),e.attrs&&Object.keys(e.attrs).forEach((t=>{a.setAttribute(t,e.attrs[t])})),a.appendChild(t(e.content)),a}}}},e={};function a(n){var c=e[n];if(void 0!==c)return c.exports;var r=e[n]={exports:{}};return t[n](r,r.exports,a),r.exports}(()=>{"use strict";var t=a(885);function e(t){return{tag:"div",cls:"cards__card",attrs:{style:"background-image: url(./static/img/".concat(t,".svg)"),"data-card":t}}}var n,c,r=function(t,e,a){if(a||2===arguments.length)for(var n,c=0,r=e.length;c<r;c++)!n&&c in e||(n||(n=Array.prototype.slice.call(e,0,c)),n[c]=e[c]);return t.concat(n||Array.prototype.slice.call(e))},s={level:"",timer:0,cards:["spadesA","spadesK","spadesQ","spadesJ","spades10","spades9","spades8","spades7","spades6","heartsA","heartsK","heartsQ","heartsJ","hearts10","hearts9","hearts8","hearts7","hearts6","diamondsA","diamondsK","diamondsQ","diamondsJ","diamonds10","diamonds9","diamonds8","diamonds7","diamonds6","clubsA","clubsK","clubsQ","clubsJ","clubs10","clubs9","clubs8","clubs7","clubs6"],"generated-cards":[],"selected-cards":{firstCard:!1,secondCard:!1,firstCardValue:"",secondCardValue:"",openedCards:0}},d=document.querySelector(".app"),i=0,o=0;function l(){var e;d&&(d.textContent="",d.appendChild((0,t.templateEngine)({tag:"div",cls:"notification",content:[{tag:"div",cls:"notification__text",content:[{content:"Выбери"},{tag:"br"},{content:"сложность"}]},{tag:"div",cls:"notification__levels",content:[{tag:"div",cls:"notification__levels__level",content:[{tag:"input",attrs:{id:"1",type:"radio",name:"level",value:"1"}},{tag:"label",attrs:{for:"1"},content:"1"}]},{tag:"div",cls:"notification__levels__level",content:[{tag:"input",attrs:{id:"2",type:"radio",name:"level",value:"2"}},{tag:"label",attrs:{for:"2"},content:"2"}]},{tag:"div",cls:"notification__levels__level",content:[{tag:"input",attrs:{id:"3",type:"radio",name:"level",value:"3"}},{tag:"label",attrs:{for:"3"},content:"3"}]}]},{tag:"button",cls:"notification__btn-start",content:"Старт"}]}))),e=d.querySelector(".notification__btn-start"),d.querySelectorAll(".notification__levels__level").forEach((function(t){t.addEventListener("click",(function(){s.level=t.textContent}))})),e.addEventListener("click",(function(){switch(s.level){case"1":u(3);break;case"2":u(6);break;case"3":u(9)}}))}function u(e){d.textContent="",d.appendChild((0,t.templateEngine)({tag:"div",cls:"header",content:[{tag:"div",cls:"header__time",content:"00.00"},{tag:"button",cls:"header__restart",content:"Начать заново"}]})),d.appendChild((0,t.templateEngine)({tag:"div",cls:"cards"})),function(t){s["generated-cards"]=[];for(var e=0;e<t;e++){var a=Math.floor(36*Math.random());s["generated-cards"].push(s.cards[a])}s["generated-cards"]=r(r([],s["generated-cards"],!0),s["generated-cards"],!0),s["generated-cards"]=s["generated-cards"].sort((function(){return Math.random()-.5}))}(e),g(),s.timer=Number(setInterval(f,1e3)),d.querySelector(".header__restart").addEventListener("click",(function(){n.textContent="",g(),i=0,o=0,s["selected-cards"].openedCards=0,s["selected-cards"].firstCard=!1,s["selected-cards"].secondCard=!1}))}function f(){(i+=1)>=60&&(o+=1,i=0);var t=i<10?"0".concat(i):i,e=o<10?"0".concat(o):o;(c=d.querySelector(".header__time")).textContent="".concat(e,".").concat(t)}function g(){(n=d.querySelector(".cards")).appendChild((0,t.templateEngine)(s["generated-cards"].map(e))),n.querySelectorAll(".cards__card").forEach((function(t){t.style.pointerEvents="none",setTimeout((function(){t.style.backgroundImage="url('./static/img/card-back.svg')",t.style.pointerEvents=""}),5e3),t.addEventListener("click",(function(){t.classList.contains("matched")||(t.style.backgroundImage="url('./static/img/".concat(t.dataset.card,".svg')"),t.style.pointerEvents="none",s["selected-cards"].firstCard?(s["selected-cards"].secondCard=t,s["selected-cards"].secondCardValue=t.getAttribute("data-card"),s["selected-cards"].firstCardValue===s["selected-cards"].secondCardValue?("object"==typeof s["selected-cards"].firstCard&&s["selected-cards"].firstCard.classList.add("matched"),"object"==typeof s["selected-cards"].secondCard&&s["selected-cards"].secondCard.classList.add("matched"),s["selected-cards"].firstCard=!1,s["selected-cards"].openedCards+=1,s["selected-cards"].openedCards===Math.floor(s["generated-cards"].length/2)&&p("./static/img/icon-win.png","Вы выиграли!")):(s["selected-cards"].firstCard=!1,s["selected-cards"].secondCard=!1,p("./static/img/icon-lose.png","Вы проиграли!"))):(s["selected-cards"].firstCard=t,s["selected-cards"].firstCardValue=t.getAttribute("data-card")))}))}))}function p(e,a){d.appendChild((0,t.templateEngine)({tag:"div",cls:"transparent-background",content:[]})),d.appendChild((0,t.templateEngine)(function(t,e){return{tag:"div",cls:"notification",content:[{tag:"img",cls:"notification__icon",attrs:{src:t}},{tag:"div",cls:"notification__text",content:e},{tag:"div",cls:"notification__time",content:[{tag:"p",cls:"notification__time__text",content:"Затраченное время"},{tag:"div",cls:"notification__time__value",content:"00.00"}]},{tag:"button",cls:"notification__btn-start",content:"Играть снова"}]}}(e,a)));var n=d.querySelector(".notification__time__value");c&&(n.textContent=c.textContent),clearInterval(Number(s.timer)),i=0,o=0,d.querySelector(".notification__btn-start").addEventListener("click",(function(){s["selected-cards"].openedCards=0,l()}))}l()})()})();